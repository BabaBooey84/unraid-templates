<?xml version="1.0"?>
<Container version="2">
  <Name>Koffan</Name>
  <Repository>ghcr.io/pansalut/koffan:latest</Repository>
  <Network>bridge</Network>
  <Shell>sh</Shell>
  <Privileged>false</Privileged>

  <Support>https://forums.unraid.net/topic/197162-support-uderzos-ca-repo/</Support>
  <Project>https://github.com/PanSalut/Koffan</Project>

  <Overview>Koffan is a lightweight, self-hosted shopping list app designed for families and couples.

Features:
- Real-time sync (WebSockets)
- Offline-first / PWA support
- Minimal resource usage
- Simple password-based auth

Change APP_PASSWORD on first install.
  </Overview>

  <Category>Productivity</Category>

  <!-- IMPORTANT: reference container port (Target), not host port -->
  <WebUI>http://[IP]:[PORT:80]</WebUI>

  <Icon>https://raw.githubusercontent.com/PanSalut/Koffan/main/static/icon-192.png</Icon>
  <ExtraParams>--restart unless-stopped</ExtraParams>

  <!-- Ports -->
  <Config Name="WebUI Port" Type="Port" Target="80" Default="3000" Mode="tcp" Display="always" Required="true">3000</Config>

  <!-- Paths -->
  <Config Name="AppData Directory" Type="Path" Target="/data" Default="/mnt/user/appdata/koffan" Mode="rw" Display="always" Required="true">/mnt/user/appdata/koffan</Config>

  <!-- Variables -->
  <Config Name="Application Password" Type="Variable" Target="APP_PASSWORD" Default="change-me" Description="Login password for Koffan (CHANGE THIS)" Display="always" Required="true" Mask="true">change-me</Config>
  <Config Name="Application Environment" Type="Variable" Target="APP_ENV" Default="development" Description="Set to 'production' when using HTTPS or reverse proxy" Display="advanced">development</Config>
  <Config Name="Disable Authentication" Type="Variable" Target="DISABLE_AUTH" Default="false" Description="Disable login entirely (ONLY if proxy handles auth)" Display="advanced">false</Config>
  <Config Name="Database Path" Type="Variable" Target="DB_PATH" Default="/data/shopping.db" Description="SQLite database file location" Display="advanced">/data/shopping.db</Config>
  <Config Name="Default Language" Type="Variable" Target="DEFAULT_LANG" Default="en" Description="UI language (en, no, de, fr, es, pl, pt, uk, lt)" Display="advanced">en</Config>
  <Config Name="API Token" Type="Variable" Target="API_TOKEN" Default="" Description="Optional REST API token (leave empty to disable)" Display="advanced" Mask="true"></Config>

</Container>
